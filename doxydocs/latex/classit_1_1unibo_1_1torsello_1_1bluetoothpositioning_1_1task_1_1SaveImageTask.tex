\hypertarget{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask}{}\subsection{Riferimenti per la classe it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task}
\label{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask}\index{it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task@{it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task}}


Diagramma delle classi per it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask__inherit__graph}
\end{center}
\end{figure}


Diagramma di collaborazione per it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask__coll__graph}
\end{center}
\end{figure}
\subsubsection*{Membri pubblici}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a73b35fbe1482ff046cc46ce21440824e_a73b35fbe1482ff046cc46ce21440824e}{Save\+Image\+Task} (Fragment\+Activity fragment\+Activity)
\end{DoxyCompactItemize}
\subsubsection*{Membri protetti}
\begin{DoxyCompactItemize}
\item 
Void \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_acb2bd5f71fddebe88763fef50932beeb_acb2bd5f71fddebe88763fef50932beeb}{do\+In\+Background} (byte\mbox{[}$\,$\mbox{]}... data)
\end{DoxyCompactItemize}
\subsubsection*{Membri privati}
\begin{DoxyCompactItemize}
\item 
Fragment\+Activity \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a6fda270f42937b64e3767644e7dd63a5_a6fda270f42937b64e3767644e7dd63a5}{get\+Activity} ()
\item 
void \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a813b3e0d75f59558de551aa6251e3d08_a813b3e0d75f59558de551aa6251e3d08}{refresh\+Gallery} (File file)
\item 
boolean \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a676fc75dd0bd436fdf8f9e80d4aae873_a676fc75dd0bd436fdf8f9e80d4aae873}{is\+External\+Storage\+Writable} ()
\end{DoxyCompactItemize}
\subsubsection*{Attributi privati}
\begin{DoxyCompactItemize}
\item 
Fragment\+Activity \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a340aca6a2cdcfbf41aed236588669203_a340aca6a2cdcfbf41aed236588669203}{activity}
\end{DoxyCompactItemize}


\subsubsection{Descrizione dettagliata}
Created by Federico Torsello. \href{mailto:federico.torsello@studio.unibo.it}{\tt federico.\+torsello@studio.\+unibo.\+it} 

\subsubsection{Documentazione dei costruttori e dei distruttori}
\hypertarget{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a73b35fbe1482ff046cc46ce21440824e_a73b35fbe1482ff046cc46ce21440824e}{}\label{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a73b35fbe1482ff046cc46ce21440824e_a73b35fbe1482ff046cc46ce21440824e} 
\index{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}!Save\+Image\+Task@{Save\+Image\+Task}}
\index{Save\+Image\+Task@{Save\+Image\+Task}!it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}}
\paragraph{\texorpdfstring{Save\+Image\+Task()}{SaveImageTask()}}
{\footnotesize\ttfamily it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task.\+Save\+Image\+Task (\begin{DoxyParamCaption}\item[{Fragment\+Activity}]{fragment\+Activity }\end{DoxyParamCaption})}


\begin{DoxyCode}
26                                                             \{
27         this.\hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a340aca6a2cdcfbf41aed236588669203_a340aca6a2cdcfbf41aed236588669203}{activity} = fragmentActivity;
28     \}
\end{DoxyCode}


\subsubsection{Documentazione delle funzioni membro}
\hypertarget{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_acb2bd5f71fddebe88763fef50932beeb_acb2bd5f71fddebe88763fef50932beeb}{}\label{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_acb2bd5f71fddebe88763fef50932beeb_acb2bd5f71fddebe88763fef50932beeb} 
\index{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}!do\+In\+Background@{do\+In\+Background}}
\index{do\+In\+Background@{do\+In\+Background}!it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}}
\paragraph{\texorpdfstring{do\+In\+Background()}{doInBackground()}}
{\footnotesize\ttfamily Void it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task.\+do\+In\+Background (\begin{DoxyParamCaption}\item[{byte... \mbox{[}$\,$\mbox{]}}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}
35                                                   \{
36 
37         \textcolor{comment}{// Write to disk}
38         \textcolor{keywordflow}{if} (\hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a676fc75dd0bd436fdf8f9e80d4aae873_a676fc75dd0bd436fdf8f9e80d4aae873}{isExternalStorageWritable}()) \{
39             File root = Environment.getExternalStorageDirectory();
40             File dir = \textcolor{keyword}{new} File(root.getAbsolutePath() + File.separator
41                     + \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a6fda270f42937b64e3767644e7dd63a5_a6fda270f42937b64e3767644e7dd63a5}{getActivity}().getString(R.string.app\_name));
42             dir.mkdir();
43 
44             String fileName = String.format(Locale.getDefault(), \textcolor{stringliteral}{"%d.jpg"}, System.currentTimeMillis());
45             File outFile = \textcolor{keyword}{new} File(dir, fileName);
46             \textcolor{keywordflow}{try} \{
47 
48                 FileOutputStream outStream = \textcolor{keyword}{new} FileOutputStream(outFile);
49                 outStream.write(data[0]);
50                 outStream.flush();
51                 outStream.close();
52 
53                 \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a813b3e0d75f59558de551aa6251e3d08_a813b3e0d75f59558de551aa6251e3d08}{refreshGallery}(outFile);
54             \} \textcolor{keywordflow}{catch} (IOException e) \{
55                 e.printStackTrace();
56             \}
57         \}
58         \textcolor{keywordflow}{return} null;
59     \}
\end{DoxyCode}
\hypertarget{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a6fda270f42937b64e3767644e7dd63a5_a6fda270f42937b64e3767644e7dd63a5}{}\label{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a6fda270f42937b64e3767644e7dd63a5_a6fda270f42937b64e3767644e7dd63a5} 
\index{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}!get\+Activity@{get\+Activity}}
\index{get\+Activity@{get\+Activity}!it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}}
\paragraph{\texorpdfstring{get\+Activity()}{getActivity()}}
{\footnotesize\ttfamily Fragment\+Activity it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task.\+get\+Activity (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}


\begin{DoxyCode}
30                                            \{
31         \textcolor{keywordflow}{return} \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a340aca6a2cdcfbf41aed236588669203_a340aca6a2cdcfbf41aed236588669203}{activity};
32     \}
\end{DoxyCode}
\hypertarget{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a676fc75dd0bd436fdf8f9e80d4aae873_a676fc75dd0bd436fdf8f9e80d4aae873}{}\label{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a676fc75dd0bd436fdf8f9e80d4aae873_a676fc75dd0bd436fdf8f9e80d4aae873} 
\index{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}!is\+External\+Storage\+Writable@{is\+External\+Storage\+Writable}}
\index{is\+External\+Storage\+Writable@{is\+External\+Storage\+Writable}!it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}}
\paragraph{\texorpdfstring{is\+External\+Storage\+Writable()}{isExternalStorageWritable()}}
{\footnotesize\ttfamily boolean it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task.\+is\+External\+Storage\+Writable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}


\begin{DoxyCode}
76                                                 \{
77         String state = Environment.getExternalStorageState();
78         \textcolor{keywordflow}{if} (Environment.MEDIA\_MOUNTED.equals(state)) \{
79             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
80         \}
81         Log.d(\textcolor{stringliteral}{"sure"}, \textcolor{stringliteral}{"not writeable"});
82         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
83     \}
\end{DoxyCode}
\hypertarget{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a813b3e0d75f59558de551aa6251e3d08_a813b3e0d75f59558de551aa6251e3d08}{}\label{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a813b3e0d75f59558de551aa6251e3d08_a813b3e0d75f59558de551aa6251e3d08} 
\index{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}!refresh\+Gallery@{refresh\+Gallery}}
\index{refresh\+Gallery@{refresh\+Gallery}!it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}}
\paragraph{\texorpdfstring{refresh\+Gallery()}{refreshGallery()}}
{\footnotesize\ttfamily void it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task.\+refresh\+Gallery (\begin{DoxyParamCaption}\item[{File}]{file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}


\begin{DoxyCode}
61                                            \{
62         \textcolor{keywordflow}{if} (file != null) \{
63             Intent mediaScanIntent = \textcolor{keyword}{new} Intent(Intent.ACTION\_MEDIA\_SCANNER\_SCAN\_FILE);
64             mediaScanIntent.setData(Uri.fromFile(file));
65             \hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a6fda270f42937b64e3767644e7dd63a5_a6fda270f42937b64e3767644e7dd63a5}{getActivity}().sendBroadcast(mediaScanIntent);
66 
67             Snackbar.make(\hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a6fda270f42937b64e3767644e7dd63a5_a6fda270f42937b64e3767644e7dd63a5}{getActivity}().findViewById(R.id.fab),
68                     \textcolor{stringliteral}{"Your picture has been saved"}, Snackbar.LENGTH\_SHORT).show();
69         \} \textcolor{keywordflow}{else} \{
70             Snackbar.make(\hyperlink{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a6fda270f42937b64e3767644e7dd63a5_a6fda270f42937b64e3767644e7dd63a5}{getActivity}().findViewById(R.id.fab),
71                     \textcolor{stringliteral}{"Image retrieval failed"}, Snackbar.LENGTH\_SHORT).show();
72         \}
73     \}
\end{DoxyCode}


\subsubsection{Documentazione dei membri dato}
\hypertarget{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a340aca6a2cdcfbf41aed236588669203_a340aca6a2cdcfbf41aed236588669203}{}\label{classit_1_1unibo_1_1torsello_1_1bluetoothpositioning_1_1task_1_1SaveImageTask_a340aca6a2cdcfbf41aed236588669203_a340aca6a2cdcfbf41aed236588669203} 
\index{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}!activity@{activity}}
\index{activity@{activity}!it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task@{it\+::unibo\+::torsello\+::bluetoothpositioning\+::task\+::\+Save\+Image\+Task}}
\paragraph{\texorpdfstring{activity}{activity}}
{\footnotesize\ttfamily Fragment\+Activity it.\+unibo.\+torsello.\+bluetoothpositioning.\+task.\+Save\+Image\+Task.\+activity\hspace{0.3cm}{\ttfamily [private]}}



La documentazione per questa classe è stata generata a partire dal seguente file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{SaveImageTask_8java}{Save\+Image\+Task.\+java}\end{DoxyCompactItemize}
